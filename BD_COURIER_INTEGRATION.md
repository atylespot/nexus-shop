# BD Courier Integration System

## ЁЯЪА Overview

ржПржЗ рж╕рж┐рж╕рзНржЯрзЗржоржЯрж┐ ржмрж┐ржбрж┐ ржХрзБрж░рж┐ржпрж╝рж╛рж░ API ржПрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи ржХрж░рзЗ ржХрж╛рж╕рзНржЯржорж╛рж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЯрзНрж░рзНржпрж╛ржХрж┐ржВ ржПржмржВ ржХрзБрж░рж┐ржпрж╝рж╛рж░ ржЕрзНржпрж╛ржирж╛рж▓рж┐ржЯрж┐ржХрзНрж╕ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред

## тЬи Features

### 1. **BD Courier Settings Page**
- API Key ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
- API ржЯрзЗрж╕рзНржЯрж┐ржВ ржлрж╛ржВрж╢ржирж╛рж▓рж┐ржЯрж┐
- ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи ржПржирж╛ржмрж▓/ржбрж┐рж╕рзЗржмрж▓ ржЕржкрж╢ржи

### 2. **Customer Tracking Modal**
- ржХрж╛рж╕рзНржЯржорж╛рж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб
- ржХрзБрж░рж┐ржпрж╝рж╛рж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЯрзЗржмрж┐рж▓
- ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрж╛рж░рзНржЯ
- ржЕрж░рзНржбрж╛рж░ рж╣рж┐рж╕рзНржЯрж░рж┐

### 3. **Smart Track Button**
- ржкрзНрж░рждрж┐ржЯрж┐ ржЕрж░рзНржбрж╛рж░рзЗ "Track" ржмрж╛ржЯржи
- ржХрж╛рж╕рзНржЯржорж╛рж░ ржлрзЛржи ржиржорзНржмрж░ ржжрж┐ржпрж╝рзЗ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЪрзЗржХ
- рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржбрзЗржЯрж╛ ржЖржкржбрзЗржЯ

## ЁЯЫая╕П Installation & Setup

### 1. **Database Migration**
```bash
npx prisma migrate dev --name add_bd_courier_setting
npx prisma generate
```

### 2. **API Configuration**
- `/admin/settings/bd-courier` ржкрзЗржЬрзЗ ржпрж╛ржи
- ржмрж┐ржбрж┐ ржХрзБрж░рж┐ржпрж╝рж╛рж░ API Key ржжрж┐ржи
- ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи ржПржирж╛ржмрж▓ ржХрж░рзБржи

### 3. **API Key**
ржЖржкржирж╛рж░ API Key: `8gkpXG1Lby8VzSzUOofAfmjJw1ZqvIVydfqRO7Oa6tysZeOqaANLHlOohiQZ`

## ЁЯУБ File Structure

```
app/
тФЬтФАтФА admin/
тФВ   тФЬтФАтФА settings/
тФВ   тФВ   тФФтФАтФА bd-courier/
тФВ   тФВ       тФФтФАтФА page.tsx          # BD Courier Settings Page
тФВ   тФФтФАтФА orders/
тФВ       тФФтФАтФА page.tsx              # Orders with Track Button
тФЬтФАтФА api/
тФВ   тФЬтФАтФА settings/
тФВ   тФВ   тФФтФАтФА bd-courier/
тФВ   тФВ       тФФтФАтФА route.ts          # Settings API
тФВ   тФФтФАтФА bd-courier/
тФВ       тФЬтФАтФА test/
тФВ       тФВ   тФФтФАтФА route.ts          # API Test Endpoint
тФВ       тФФтФАтФА track/
тФВ           тФФтФАтФА route.ts          # Customer Tracking API
тФФтФАтФА components/
    тФФтФАтФА CustomerTrackingModal.tsx # Tracking Modal Component
```

## ЁЯФз API Endpoints

### 1. **Settings Management**
```typescript
// GET /api/settings/bd-courier
// Retrieve BD Courier settings

// POST /api/settings/bd-courier
// Save BD Courier settings
{
  "apiKey": "your_api_key",
  "isActive": true
}
```

### 2. **API Testing**
```typescript
// POST /api/bd-courier/test
// Test BD Courier API connection
{
  "phone": "017xxxxxxxx"
}
```

### 3. **Customer Tracking**
```typescript
// POST /api/bd-courier/track
// Get customer performance data
{
  "phone": "017xxxxxxxx"
}
```

## ЁЯУК Data Structure

### Customer Performance
```typescript
{
  customer: {
    phone: string;
    totalOrders: number;
    successfulOrders: number;
    cancelledOrders: number;
    successRate: number;
  },
  courierPerformance: {
    pathao: { total: number; success: number; cancel: number };
    steadfast: { total: number; success: number; cancel: number };
    parceldex: { total: number; success: number; cancel: number };
    redx: { total: number; success: number; cancel: number };
    paperfly: { total: number; success: number; cancel: number };
  },
  orders: OrderHistory[]
}
```

## ЁЯОп Usage

### 1. **Configure BD Courier**
1. `/admin/settings/bd-courier` ржП ржпрж╛ржи
2. API Key ржжрж┐ржи
3. ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи ржПржирж╛ржмрж▓ ржХрж░рзБржи
4. API ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи

### 2. **Track Customer Performance**
1. `/admin/orders` ржП ржпрж╛ржи
2. ржпрзЗржХрзЛржирзЛ ржЕрж░рзНржбрж╛рж░рзЗрж░ "Track" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи
3. ржХрж╛рж╕рзНржЯржорж╛рж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржжрзЗржЦрзБржи

### 3. **View Analytics**
- ржорзЛржЯ ржЕрж░рзНржбрж╛рж░ рж╕ржВржЦрзНржпрж╛
- рж╕ржлрж▓ ржбрзЗрж▓рж┐ржнрж╛рж░рж┐
- ржмрж╛рждрж┐рж▓ ржЕрж░рзНржбрж╛рж░
- рж╕ржлрж▓рждрж╛рж░ рж╣рж╛рж░
- ржХрзБрж░рж┐ржпрж╝рж╛рж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕

## ЁЯФН Features Breakdown

### Dashboard Cards
- **Total Orders**: ржорзЛржЯ ржЕрж░рзНржбрж╛рж░ рж╕ржВржЦрзНржпрж╛
- **Successful**: рж╕ржлрж▓ ржбрзЗрж▓рж┐ржнрж╛рж░рж┐
- **Cancelled**: ржмрж╛рждрж┐рж▓ ржЕрж░рзНржбрж╛рж░
- **Success Rate**: рж╕ржлрж▓рждрж╛рж░ рж╢рждржХрж░рж╛ рж╣рж╛рж░

### Courier Performance Table
- **Pathao**: ржкрж╛ржерж╛ржУ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕
- **SteadFast**: рж╕рзНржЯрзЗржбржлрж╛рж╕рзНржЯ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕
- **ParcelDex**: ржкрж╛рж░рж╕рзЗрж▓ржбрзЗржХрзНрж╕ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕
- **REDX**: рж░рзЗржбржПржХрзНрж╕ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕
- **PAPERFLY**: ржкрзЗржкрж╛рж░ржлрзНрж▓рж╛ржЗ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕

### Delivery Status Chart
- ржбрзЛржирж╛ржЯ ржЪрж╛рж░рзНржЯрзЗ рж╕ржлрж▓ vs ржмрж╛рждрж┐рж▓ ржЕрж░рзНржбрж╛рж░
- ржнрж┐ржЬрзНржпрзБржпрж╝рж╛рж▓ рж░рж┐ржкрзНрж░рзЗржЬрзЗржирзНржЯрзЗрж╢ржи
- ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн рж▓рзЗржЬрзЗржирзНржб

### Order History
- ржЕрж░рзНржбрж╛рж░ ржиржорзНржмрж░
- рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- ржЯрзЛржЯрж╛рж▓ ржЕрзНржпрж╛ржорж╛ржЙржирзНржЯ
- рждрж╛рж░рж┐ржЦ
- ржХржирж╕рж╛ржЗржиржорзЗржирзНржЯ ID

## ЁЯЪи Error Handling

### Common Issues
1. **API Key Invalid**: рж╕ржарж┐ржХ API Key ржжрж┐ржи
2. **API Not Active**: ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи ржПржирж╛ржмрж▓ ржХрж░рзБржи
3. **Network Error**: ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржХрж╛ржирзЗржХрж╢ржи ржЪрзЗржХ ржХрж░рзБржи
4. **Phone Number Invalid**: рж╕ржарж┐ржХ ржлрзЛржи ржиржорзНржмрж░ ржжрж┐ржи

### Troubleshooting
- API ржЯрзЗрж╕рзНржЯ ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
- ржХржирж╕рзЛрж▓ рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи
- ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржЯрзНржпрж╛ржм ржЪрзЗржХ ржХрж░рзБржи

## ЁЯФР Security

- API Key ржПржиржХрзНрж░рж┐ржкрзНржЯрзЗржб рж╕рзНржЯрзЛрж░рзЗржЬ
- Bearer Token ржЕржерзЗржиржЯрж┐ржХрзЗрж╢ржи
- HTTPS API ржХрж▓
- ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржЪрзЗржХ

## ЁЯУ▒ Responsive Design

- ржорзЛржмрж╛ржЗрж▓ ржлрзНрж░рзЗржирзНржбрж▓рж┐
- ржЯрзНржпрж╛ржмрж▓рзЗржЯ ржЕржкржЯрж┐ржорж╛ржЗржЬржб
- ржбрзЗрж╕рзНржХржЯржк ржнрж┐ржЙ
- ржЯрж╛ржЪ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕

## ЁЯОи UI Components

- **Modal**: ржХрж╛рж╕рзНржЯржорж╛рж░ ржЯрзНрж░рзНржпрж╛ржХрж┐ржВ ржкржк-ржЖржк
- **Cards**: ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржорзЗржЯрзНрж░рж┐ржХрзНрж╕
- **Tables**: ржХрзБрж░рж┐ржпрж╝рж╛рж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕
- **Charts**: ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- **Buttons**: ржЯрзНрж░рзНржпрж╛ржХ, ржЯрзЗрж╕рзНржЯ, рж╕рзЗржн

## ЁЯФД Real-time Updates

- ржЕржЯрзЛржорзЗржЯрж┐ржХ ржбрзЗржЯрж╛ рж░рж┐ржлрзНрж░рзЗрж╢
- рж▓рж╛ржЗржн ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЖржкржбрзЗржЯ
- ржЗржирж╕рзНржЯрзНржпрж╛ржирзНржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржЮрзНржЬ
- рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржХрж╛ржЙржирзНржЯрж╛рж░

## ЁЯУИ Future Enhancements

1. **Email Notifications**: ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ рж░рж┐ржкрзЛрж░рзНржЯ
2. **SMS Alerts**: ржХрж╛рж╕рзНржЯржорж╛рж░ ржЖржкржбрзЗржЯ
3. **Advanced Analytics**: ржЯрзНрж░рзЗржирзНржб ржЕрзНржпрж╛ржирж╛рж▓рж┐рж╕рж┐рж╕
4. **Export Reports**: PDF/Excel рж░рж┐ржкрзЛрж░рзНржЯ
5. **API Rate Limiting**: рж░рзЗржЯ рж▓рж┐ржорж┐ржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ

## ЁЯЖШ Support

### Technical Issues
- ржХржирж╕рзЛрж▓ рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи
- API ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи
- ржбрзЗржЯрж╛ржмрзЗрж╕ ржХрж╛ржирзЗржХрж╢ржи ржнрзЗрж░рж┐ржлрж╛ржЗ ржХрж░рзБржи

### API Issues
- ржмрж┐ржбрж┐ ржХрзБрж░рж┐ржпрж╝рж╛рж░ рж╕рж╛ржкрзЛрж░рзНржЯрзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи
- API Key ржнрзНржпрж╛рж▓рж┐ржбрж┐ржЯрж┐ ржЪрзЗржХ ржХрж░рзБржи
- ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржХрж╛ржирзЗржХрж╢ржи ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи

---

**Created by**: Nexus AI Assistant  
**Last Updated**: August 17, 2025  
**Version**: 1.0.0

